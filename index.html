<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preene Dias | The Lost Echo Studio</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" as="style">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="16x16" href="https://img.icons8.com/ios/16/000000/music.png" />
</head>

<body>
  <header>
    <div class="container">
      <div class="logo">
        <a href="#"><i class="fas fa-music"></i>The Lost Echo Studio</a>
      </div>
      <button class="nav-toggle" aria-label="toggle navigation">
        <span class="hamburger"></span>
      </button>
      <nav>
        <ul>
          <li><a href="#about">About</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#class-features">Classes</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="https://forms.gle/yQ8vHAuSLSgFw6n37" target="_blank" class="nav-cta">Schedule your Demo</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero Image Section -->
  <section id="hero">
    <div class="hero-text">
      <h1 id="hero-title">The Lost Echo Studio</h1>
      <p id="hero-subtitle">The Sound of Refinement</p>
    </div>
  </section>

  <main>
    <!-- About Section -->
    <section id="about">
      <div class="container">
        <h2>My Vision</h2>
        <p class="about-summary">
          <strong><span class="highlight">Anyone can sing...</span></strong> it just takes the right mentor. For me as a child it was hard to find someone who could help me transform my voice. But through experience and training my voice grew to be what I am today. All it takes is patience and hard work. And this studio gives you the chance to rediscover <strong><span class="highlight">the lost echo</span></strong> in you.
        </p>
        <a href="about.html" class="about-link">Know More About Me</a>
      </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery">
      <div class="container">
        <h2 class="gallery-subtitle">Teacher Showcase</h2>
        <div class="videos-grid">
          <div class="video-container">
            <img class="tribe-thumbnail" src="images/gallery1-thumbnail.png" alt="Thumbnail for Gallery Video 1" data-video-id="1s1lzprI4T3NtdVQ-eOG6idkfvMCYziHh" />
            <iframe class="tribe-video" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen style="display: none;"></iframe>
            <p class="video-caption">Judge Showcase</p>
          </div>
          <div class="video-container">
            <img class="tribe-thumbnail" src="images/gallery2-thumbnail.png" alt="Thumbnail for Gallery Video 2" data-video-id="12qW9VekhSmATfizbVq-MhmyICOu7ZtDU" />
            <iframe class="tribe-video" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen style="display: none;"></iframe>
            <p class="video-caption">Judge Showcase at VTU Fest</p>
          </div>
        </div>
        <h2 class="gallery-subtitle">Join the Tribe</h2>
        <div class="videos-slider">
          <div class="tribe-videos-grid">
            <div class="circle-thumbnail-wrapper">
              <img class="tribe-thumbnail" src="images/enika-thumbnail.png" alt="Thumbnail for Tribe Video 1" data-video-id="1wsYXgC7M1r-BLpGgwjU7K0uI2TNWu8Jd" />
              <p class="video-caption">Enika</p>
            </div>
            <div class="circle-thumbnail-wrapper">
              <img class="tribe-thumbnail" src="images/sarah-thumbnail.png" alt="Thumbnail for Tribe Video 2" data-video-id="1JHjJHleMzbsbrtk7fYcMINvFqp85Ts0C" />
              <p class="video-caption">Sarah</p>
            </div>
            <div class="circle-thumbnail-wrapper">
              <img class="tribe-thumbnail" src="images/naman-thumbnail.png" alt="Thumbnail for Tribe Video 3" data-video-id="1ipixGYKHnkytK1g-QqiM8VGBy5mLKEq0" />
              <p class="video-caption">Naman</p>
            </div>
            <div class="circle-thumbnail-wrapper">
              <img class="tribe-thumbnail" src="images/shriniketh-thumbnail.png" alt="Thumbnail for Tribe Video 4" data-video-id="1doruQMhQdrhLtSM6WetfijN6DY9nLGaT" />
              <p class="video-caption">Shriniketh</p>
            </div>
          </div>
          <!-- Video Popup -->
          <div id="video-popup-overlay">
            <div id="video-popup-content">
              <iframe id="popup-video-player" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
              <button id="close-popup-btn" aria-label="Close video"><i class="fas fa-times"></i> Close</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Class Features Section -->
    <section id="class-features">
      <div class="container">
        <h2>What I offer</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon-wrapper">
              <i class="fas fa-users feature-icon"></i>
            </div>
            <h3>Learn Solo or Together</h3>
            <p>Learn at your own pace with private sessions or thrive in a collaborative group setting</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon-wrapper">
              <i class="fas fa-file-alt feature-icon"></i>
            </div>
            <h3>Music Exam Preparation</h3>
            <p>Ace your music exams with confidence. From technique to theory, the lessons cover every step to prepare you for TCL and other leading music exams so youâ€™re stage and exam ready.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon-wrapper">
              <i class="fas fa-compact-disc feature-icon"></i>
            </div>
            <h3>Dive into Diverse Genres</h3>
            <p>Explore a world of genres! Pop, jazz, gospel, rock, a cappella, and beyond. Master the style you love while discovering new musical horizons.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon-wrapper">
              <i class="fas fa-volume-up feature-icon"></i>
            </div>
            <h3>Choir Arrangements & Acapella</h3>
            <p>Master the art of harmony with specialized lessons in choir arrangements or get arrangements done by us for your choir or acapella sets.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon-wrapper">
              <i class="fas fa-microphone feature-icon"></i>
            </div>
            <h3>Events, Gigs & Private Shows</h3>
            <p>Got an event that needs some rhythm? Book for your private gigs and let the music do the talking!</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials">
      <div class="container">
        <h2>Testimonials</h2>
        <div class="testimonial-slider">
          <div class="testimonial-grid">
            <!-- Testimonial 1 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Enika Bose.jpg" alt="Photo of Enika Bose">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"It's been a while now since I have joined Ms Preene Dias's class for western vocals and it has been an amazing journey so far. My voice feels more refined and the transition has been swift. She is a sweet and humble lady..."</span>
                  <span class="full-text" style="display: none;">"It's been a while now since I have joined Ms Preene Dias's class for western vocals and it has been an amazing journey so far. My voice feels more refined and the transition has been swift. She is a sweet and humble lady. With her the ratio feels more like a friend and her classes are truly enjoyable!"</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Enika Bose</cite>
              </div>
            </div>
            <!-- Testimonial 2 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Shriniketh.jpg" alt="Photo of Shriniketh">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"Preeni Ma'am is an amazing teacher, who nurtures the passion of music in her students. She cares for her students deeply and takes the effort to make sure..."</span>
                  <span class="full-text" style="display: none;">"Preeni Ma'am is an amazing teacher, who nurtures the passion of music in her students. She cares for her students deeply and takes the effort to make sure that they achieve what they want to, by being there in every step of their journeys."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Shriniketh</cite>
              </div>
            </div>
            <!-- Testimonial 3 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Karishma Ahuja.jpg" alt="Photo of Karishma Ahuja">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"Preeni mam has played a significant role in nurturing and developing my daughter Vaanyaâ€™s talent in singing. She teaches with a lot of love and patience and bonds..."</span>
                  <span class="full-text" style="display: none;">"Preeni mam has played a significant role in nurturing and developing my daughter Vaanyaâ€™s talent in singing. She teaches with a lot of love and patience and bonds beautifully with her students like a friend and a mentor. Preeni mam shares her knowledge wholeheartedly and motivates the students to express without inhibitions. This has helped my daughter in building her confidence to present her art before the audience."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Karishma Ahuja, Vaanyaâ€™s parent</cite>
              </div>
            </div>
            <!-- Testimonial 4 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Vivek Das Gupta.jpg" alt="Photo of Vivek Das Gupta">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"My son, Naman, has been taking Western vocal lessons with Preene Dias for nearly a year, and we've been thrilled with his development. Preene is a very patient..."</span>
                  <span class="full-text" style="display: none;">"My son, Naman, has been taking Western vocal lessons with Preene Dias for nearly a year, and we've been thrilled with his development. Preene is a very patient and encouraging teacher. She provides regular, constructive feedback with a smile, which helps her students get better while also enjoying the process. The classes are always engaging, and the students have a great time, which leads to fantastic results. We feel very fortunate to have her as a teacher and would highly recommend her to anyone."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Vivek Das Gupta, Naman's parent</cite>
              </div>
            </div>
            <!-- Testimonial 5 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Rituraj.jpg" alt="Photo of Rituraj">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"We connected with Preene Ma'am and she's been mentoring Kiaan for nearly two months now. The progress has been remarkable! Kiaan's vocals have improved dramatically..."</span>
                  <span class="full-text" style="display: none;">"We connected with Preene Ma'am and she's been mentoring Kiaan for nearly two months now. The progress has been remarkable! Kiaan's vocals have improved dramatically, and he's gained confidence to perform on stage. We're incredibly grateful to Preene Ma'am for her expertise and support."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Rituraj, Kiaanâ€™s parent</cite>
              </div>
            </div>
            <!-- Testimonial 6 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Naren.jpg" alt="Photo of Naren">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"Iâ€™ve been learning Western vocals with Preene, and as a beginner, her guidance has been invaluable. She has a wonderful voice and a strong focus on building solid..."</span>
                  <span class="full-text" style="display: none;">"Iâ€™ve been learning Western vocals with Preene, and as a beginner, her guidance has been invaluable. She has a wonderful voice and a strong focus on building solid foundations, which has greatly improved my pitch and confidence. She is excellent at breaking things down, slowing the pace, and making concepts simple to grasp and practice. Her teaching style is very approachable and empathetic, with assignments tailored to each studentâ€™s needs. I especially appreciate how she patiently demonstrates and repeats until we get it right. Iâ€™d highly recommend her to anyone interested in learning singing, especially beginners."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Naren</cite>
              </div>
            </div>
            <!-- Testimonial 7 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/Sarah.jpg" alt="Photo of Sarah">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"I've been taking singing classes with Preene mam for 2 years now, and I must say, it's been an incredible experience. The instructor's expertise and passion for music..."</span>
                  <span class="full-text" style="display: none;">"I've been taking singing classes with Preene mam for 2 years now, and I must say, it's been an incredible experience. The instructor's expertise and passion for music are evident in every session, and their ability to break down complex techniques into manageable parts has been a game-changer for me. The classes are well-structured, and the instructor provides personalized feedback that helps me improve my skills. The atmosphere is supportive and encouraging, which makes it easy to relax and enjoy the learning process. What I appreciate most is the instructor's dedication to helping students achieve their goals, whether it's preparing for performances or simply building confidence in their singing abilities. The classes have not only improved my vocal technique but also boosted my self-assurance. I highly recommend Preene mam to anyone looking to develop their singing skills, whether you're a beginner or an experienced vocalist. The classes are informative, engaging, and most importantly, fun! Five stars isn't enough, I'd give it ten stars if I could."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Sarah</cite>
              </div>
            </div>
            <!-- Testimonial 8 -->
            <div class="testimonial-card">
              <div class="testimonial-avatar">
                <img src="images/reshma.jpg" alt="Photo of Reshma">
              </div>
              <div class="testimonial-content">
                <blockquote>
                  <span class="preview-text">"I wanna share how much I appreciate your teaching. You explain everything very clearly and always pay attention to even the smallest detail..."</span>
                  <span class="full-text" style="display: none;">"I wanna share how much I appreciate your teaching. You explain everything very clearly and always pay attention to even the smallest detail, which really helps me improve. I genuinely look forward to every class because you make it fun and engaging while still being focused. Thank you for your dedication and for creating such a positive environment."</span>
                </blockquote>
                <a href="#" class="read-more" data-expanded="false">Read More</a>
                <cite>- Reshma</cite>
              </div>
            </div>
          </div>
          <button class="testimonial-arrow prev" aria-label="Previous testimonial"><i class="fas fa-chevron-left"></i></button>
          <button class="testimonial-arrow next" aria-label="Next testimonial"><i class="fas fa-chevron-right"></i></button>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <div class="contact-details">
        <div class="contact-item">
          <i class="fas fa-envelope"></i>
          <a href="mailto:contact@preenedias.com">contact@preenedias.com</a>
        </div>
        <div class="contact-item">
          <i class="fas fa-map-marker-alt"></i>
          <span>Bangalore, India</span>
        </div>
        <div class="contact-item">
          <i class="fab fa-instagram"></i>
          <a href="https://www.instagram.com/preene.dias?igsh=d3NrbGxldmt0MDNu" target="_blank">@preene.dias</a>
        </div>
        <div class="contact-item">
          <i class="fab fa-spotify"></i>
          <a href="https://open.spotify.com/artist/51HoH18vs8mRSV89BtvdGa?si=FTij2P_HSGybFwS14kobBw" target="_blank">Preene Dias</a>
        </div>
      </div>
      <div class="register-now-box">
        <a href="https://forms.gle/yQ8vHAuSLSgFw6n37" target="_blank" class="cta-button">Schedule your Demo</a>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>Â© 2025 Preene Dias Vocal Studio. All Rights Reserved.</p>
    </div>
  </footer>

  <!-- Navigation Script -->
  <script>
    const navToggle = document.querySelector('.nav-toggle');
    const nav = document.querySelector('nav');
    const body = document.querySelector('body');

    navToggle.addEventListener('click', () => {
      nav.classList.toggle('nav--visible');
      body.classList.toggle('nav-open');
    });

    const navLinks = document.querySelectorAll('nav a');
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        nav.classList.remove('nav--visible');
        body.classList.remove('nav-open');
      });
    });
  </script>

  <!-- Typewriter Effect Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const heroTitleEl = document.getElementById('hero-title');
      const heroSubtitleEl = document.getElementById('hero-subtitle');

      const titleText = "The Lost Echo Studio";
      const subtitleText = "The Sound of Refinement";
      const typingSpeed = 100;
      const pauseAfterAnimation = 2000;

      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }

      async function typeLine(element, text) {
        element.classList.add('typing-cursor');
        for (const char of text) {
          element.textContent += char;
          await sleep(typingSpeed);
        }
        element.classList.remove('typing-cursor');
      }

      async function typewriterLoop() {
        while (true) {
          heroTitleEl.textContent = '';
          heroSubtitleEl.textContent = '';

          await typeLine(heroTitleEl, titleText);
          await sleep(typingSpeed / 2);
          await typeLine(heroSubtitleEl, subtitleText);

          heroSubtitleEl.classList.add('typing-cursor');
          await sleep(pauseAfterAnimation);
          heroSubtitleEl.classList.remove('typing-cursor');
          heroTitleEl.textContent = '';
          heroSubtitleEl.textContent = '';
        }
      }

      if (heroTitleEl && heroSubtitleEl) {
        typewriterLoop();
      }
    });
  </script>

  <!-- Slider Script for Testimonials and Video Popup -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Generic Slider Function (Used only for Testimonials)
      function initializeSlider(sliderSelector, gridSelector, prevSelector, nextSelector, itemSelector) {
        const slider = document.querySelector(sliderSelector);
        if (!slider) return;

        const grid = slider.querySelector(gridSelector);
        const prevButton = slider.querySelector(prevSelector);
        const nextButton = slider.querySelector(nextSelector);
        let items = Array.from(grid.querySelectorAll(itemSelector));

        if (items.length <= 1) {
          if (prevButton) prevButton.style.display = 'none';
          if (nextButton) nextButton.style.display = 'none';
          return;
        }

        let currentIndex = 0;
        let isTransitioning = false;

        function setSliderPosition(instant = false) {
          if (isTransitioning && !instant) return;
          isTransitioning = true;

          if (instant) {
            grid.style.transition = 'none';
          } else {
            grid.style.transition = 'transform 0.6s cubic-bezier(0.25, 1, 0.5, 1)';
          }

          const currentItem = items[currentIndex];
          const sliderWidth = slider.offsetWidth;
          const itemWidth = currentItem.offsetWidth;
          const itemLeft = currentItem.offsetLeft;

          const offsetToCenter = (sliderWidth - itemWidth) / 2;
          const translateX = itemLeft - offsetToCenter;

          grid.style.transform = 'translateX(-' + translateX + 'px)';

          items.forEach((item, index) => {
            item.classList.remove('active');
            if (index === currentIndex) {
              item.classList.add('active');
            }
          });

          if (instant) {
            setTimeout(() => {
              grid.style.transition = 'transform 0.6s cubic-bezier(0.25, 1, 0.5, 1)';
            }, 50);
          }

          isTransitioning = false;
        }

        function handleNext() {
          if (isTransitioning) return;
          if (currentIndex < items.length - 1) {
            currentIndex++;
            setSliderPosition();
          }
        }

        function handlePrev() {
          if (isTransitioning) return;
          if (currentIndex > 0) {
            currentIndex--;
            setSliderPosition();
          }
        }

        const firstItemClone = items[0].cloneNode(true);
        const lastItemClone = items[items.length - 1].cloneNode(true);
        firstItemClone.id = 'first-clone';
        lastItemClone.id = 'last-clone';
        grid.appendChild(firstItemClone);
        grid.prepend(lastItemClone);
        items = Array.from(grid.querySelectorAll(itemSelector));
        currentIndex = 1;

        grid.addEventListener('transitionend', () => {
          if (items[currentIndex].id === 'last-clone') {
            currentIndex = items.length - 2;
            setSliderPosition(true);
          } else if (items[currentIndex].id === 'first-clone') {
            currentIndex = 1;
            setSliderPosition(true);
          }
        });

        if (prevButton) prevButton.addEventListener('click', handlePrev);
        if (nextButton) nextButton.addEventListener('click', handleNext);

        setTimeout(() => {
          setSliderPosition(true);
        }, 100);

        window.addEventListener('resize', () => setSliderPosition(true));
      }

      // Initialize Testimonial Slider
      initializeSlider(
        '.testimonial-slider',
        '.testimonial-grid',
        '.testimonial-arrow.prev',
        '.testimonial-arrow.next',
        '.testimonial-card'
      );

      // Video Popup Logic
      const popupOverlay = document.getElementById('video-popup-overlay');
      const popupVideoContent = document.getElementById('video-popup-content');
      const popupVideoPlayer = document.getElementById('popup-video-player');
      const closePopupBtn = document.getElementById('close-popup-btn');
      const tribeThumbnails = document.querySelectorAll('.tribe-thumbnail[data-video-id]');

      function openPopup(videoId) {
        if (!videoId) return;

        const embedUrl = 'https://drive.google.com/file/d/' + videoId + '/preview';
        
        // Add the 'visible' class to trigger CSS transitions
        popupOverlay.classList.add('visible');
        document.body.style.overflow = 'hidden'; // Prevent background scrolling

        // Set iframe src after a short delay to ensure popup is visible and can load
        setTimeout(() => {
          if (popupOverlay.classList.contains('visible')) { // Check if popup is still intended to be open
            popupVideoPlayer.src = embedUrl;
          }
        }, 300); // Delay should match the CSS transition duration for overlay
      }

      function closePopup() {
        // Stop video playback by clearing the src
        popupVideoPlayer.src = '';
        
        // Remove the 'visible' class to trigger CSS transitions for closing
        popupOverlay.classList.remove('visible');
        document.body.style.overflow = ''; // Allow background scrolling again
      }

      tribeThumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('click', (e) => {
          e.preventDefault(); // Prevent default link behavior
          const videoId = thumbnail.dataset.videoId;
          if (videoId) { // Only open if videoId is present
            openPopup(videoId);
          } else {
            console.error("Video ID not found for this thumbnail.");
          }
        });
      });

      closePopupBtn.addEventListener('click', closePopup);

      popupOverlay.addEventListener('click', (e) => {
        // Close popup if the click is directly on the overlay background
        if (e.target === popupOverlay) {
          closePopup();
        }
      });

      // Testimonial Read More Toggle
      document.querySelectorAll('.read-more').forEach(link => {
        const content = link.parentElement.querySelector('blockquote');
        const previewText = content.querySelector('.preview-text');
        const fullText = content.querySelector('.full-text');
        
        // Check if full text exists and needs truncation
        if (fullText && previewText) {
            const maxLength = 200; // Approximate length for preview
            if (fullText.textContent.length > maxLength) {
                previewText.textContent = fullText.textContent.substring(0, maxLength) + "...";
                link.style.display = 'block'; // Show 'Read More'
            } else {
                previewText.textContent = fullText.textContent; // Show full text if short
                previewText.style.display = 'block';
                fullText.style.display = 'none';
                link.style.display = 'none'; // Hide 'Read More' if not needed
            }
        } else {
             // If either preview or full text is missing, hide the link
            link.style.display = 'none';
        }

        link.addEventListener('click', (e) => {
          e.preventDefault();
          const isExpanded = link.getAttribute('data-expanded') === 'true';

          if (isExpanded) {
            // Collapse
            previewText.style.display = 'block';
            fullText.style.display = 'none';
            link.textContent = 'Read More';
            link.setAttribute('data-expanded', 'false');
            link.closest('.testimonial-card').classList.remove('expanded');
          } else {
            // Expand
            previewText.style.display = 'none';
            fullText.style.display = 'block';
            link.textContent = 'Read Less';
            link.setAttribute('data-expanded', 'true');
            link.closest('.testimonial-card').classList.add('expanded');
          }
        });
      });
    });
  </script>
</body>
</html>
